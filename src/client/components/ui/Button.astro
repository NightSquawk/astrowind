---
/**
 * CLIENT OVERRIDE EXAMPLE: Custom Button Component
 *
 * This file demonstrates how to override a base component while extending its functionality.
 * By placing this file at src/client/components/ui/Button.astro, it automatically overrides
 * the base Button component at src/components/ui/Button.astro thanks to the Vite plugin.
 *
 * This example adds a new "ghost" variant while preserving all base functionality.
 */

interface Props {
	href?: string;
	variant?: 'primary' | 'secondary' | 'outline' | 'ghost';
	size?: 'small' | 'medium' | 'large';
	class?: string;
}

const {
	href,
	variant = 'primary',
	size = 'medium',
	class: className = '',
} = Astro.props;

const baseClass = 'btn';
const variantClass = `btn-${variant}`;
const sizeClass = `btn-${size}`;
const classes = `${baseClass} ${variantClass} ${sizeClass} ${className}`.trim();
---

{href ? (
	<a href={href} class={classes}>
		<slot />
	</a>
) : (
	<button class={classes}>
		<slot />
	</button>
)}

<style>
	.btn {
		display: inline-block;
		padding: 0.75rem 1.5rem;
		font-size: 1rem;
		font-weight: 600;
		text-align: center;
		text-decoration: none;
		border: 2px solid transparent;
		border-radius: 4px;
		cursor: pointer;
		transition: all var(--transition-base);
		font-family: var(--font-family);
	}

	.btn-primary {
		background-color: var(--color-accent);
		color: var(--color-text-white);
		border-color: var(--color-accent);
	}

	.btn-primary:hover {
		background-color: var(--color-accent-hover);
		border-color: var(--color-accent-hover);
		color: var(--color-text-white);
	}

	.btn-secondary {
		background-color: var(--color-primary);
		color: var(--color-text-white);
		border-color: var(--color-primary);
	}

	.btn-secondary:hover {
		background-color: #2a4a6f;
		border-color: #2a4a6f;
		color: var(--color-text-white);
	}

	.btn-outline {
		background-color: transparent;
		color: var(--color-primary);
		border-color: var(--color-primary);
	}

	.btn-outline:hover {
		background-color: var(--color-primary);
		color: var(--color-text-white);
	}

	/* NEW: Ghost variant (client-specific addition) */
	.btn-ghost {
		background-color: transparent;
		color: var(--color-text-default);
		border-color: transparent;
	}

	.btn-ghost:hover {
		background-color: rgba(0, 0, 0, 0.05);
		border-color: transparent;
	}

	/* Dark mode support for ghost variant */
	:global(.dark) .btn-ghost:hover {
		background-color: rgba(255, 255, 255, 0.1);
	}

	.btn-small {
		padding: 0.5rem 1rem;
		font-size: 0.875rem;
	}

	.btn-large {
		padding: 1rem 2rem;
		font-size: 1.125rem;
	}

	@media (max-width: 768px) {
		.btn {
			padding: 0.625rem 1.25rem;
			font-size: 0.9375rem;
		}
	}
</style>
